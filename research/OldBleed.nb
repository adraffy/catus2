(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[         0,          0]
NotebookDataLength[      7052,        232]
NotebookOptionsPosition[      6236,        197]
NotebookOutlinePosition[      6591,        213]
CellTagsIndexPosition[      6548,        210]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Helpers", "Section",
 CellChangeTimes->{{3.6189636901083927`*^9, 3.618963691868764*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "indexOf", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"indexOf", "[", 
    RowBox[{"v_", ",", "x_", ",", 
     RowBox[{"dne_:", "Indeterminate"}]}], "]"}], ":=", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"p", "=", 
       RowBox[{"Position", "[", 
        RowBox[{"v", ",", "x", ",", 
         RowBox[{"{", "1", "}"}], ",", 
         RowBox[{"Heads", "\[Rule]", "False"}]}], "]"}]}], "}"}], ",", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"Length", "[", "p", "]"}], "\[Equal]", "1"}], ",", 
       RowBox[{"p", "[", 
        RowBox[{"[", 
         RowBox[{"1", ",", "1"}], "]"}], "]"}], ",", "dne"}], "]"}]}], 
    "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.6189632885610447`*^9, 3.6189633251887083`*^9}, {
  3.618963615310886*^9, 3.61896366481408*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "lineStartCommentQ", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"lineStartCommentQ", "[", "x_String", "]"}], ":=", 
   RowBox[{
    RowBox[{
     RowBox[{"StringLength", "[", "x", "]"}], "\[GreaterEqual]", "2"}], "&&", 
    
    RowBox[{
     RowBox[{"StringTake", "[", 
      RowBox[{"x", ",", "2"}], "]"}], "\[Equal]", "\"\<//\>\""}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"lineStartCommentQ", "[", "___", "]"}], "=", "False"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "stripLineStartComments", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"stripLineStartComments", "[", "lines_", "]"}], ":=", 
   RowBox[{"Select", "[", 
    RowBox[{"lines", ",", 
     RowBox[{
      RowBox[{"!", 
       RowBox[{"lineStartCommentQ", "[", "#", "]"}]}], "&"}]}], "]"}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.618963693200749*^9, 3.61896378354066*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "getBlockLines", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"getBlockLines", "[", "name_String", "]"}], ":=", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"index", "=", 
       RowBox[{"indexOf", "[", 
        RowBox[{"blocks", ",", "name"}], "]"}]}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"IntegerQ", "[", "index", "]"}], ",", 
       RowBox[{"lines", "[", 
        RowBox[{"[", 
         RowBox[{
          RowBox[{
           RowBox[{"block0", "[", 
            RowBox[{"[", "index", "]"}], "]"}], "+", "1"}], ";;", 
          RowBox[{
           RowBox[{"block1", "[", 
            RowBox[{"[", "index", "]"}], "]"}], "-", "1"}]}], "]"}], "]"}], 
       ",", 
       RowBox[{"{", "}"}]}], "]"}]}], "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.61896379634181*^9, 3.618963904148858*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Code", "Section",
 CellChangeTimes->{{3.618963687446621*^9, 3.618963688181244*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"lines", "=", 
   RowBox[{"ReadList", "[", 
    RowBox[{
    "\"\</Users/raffy/Downloads/sc_spell_data.inc\>\"", ",", "String"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"block0suffix", "=", "\"\<[] = {\>\""}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"block0", "=", 
   RowBox[{"Flatten", "@", 
    RowBox[{"Position", "[", 
     RowBox[{"lines", ",", 
      RowBox[{"x_String", "/;", 
       RowBox[{"StringMatchQ", "[", 
        RowBox[{"x", ",", 
         RowBox[{"___", "~~", "block0suffix"}]}], "]"}]}]}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"block1", "=", 
   RowBox[{"Flatten", "@", 
    RowBox[{"Position", "[", 
     RowBox[{"lines", ",", "\"\<};\>\""}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"blocks", "=", 
   RowBox[{
    RowBox[{"StringSplit", "[", 
     RowBox[{"StringDrop", "[", 
      RowBox[{
       RowBox[{"lines", "[", 
        RowBox[{"[", "block0", "]"}], "]"}], ",", 
       RowBox[{"-", 
        RowBox[{"StringLength", "[", "block0suffix", "]"}]}]}], "]"}], "]"}], 
    "[", 
    RowBox[{"[", 
     RowBox[{"All", ",", 
      RowBox[{"-", "1"}]}], "]"}], "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.618963243329364*^9, 3.6189632642601767`*^9}, {
   3.618963364986383*^9, 3.618963409643635*^9}, {3.6189634501205473`*^9, 
   3.618963456322135*^9}, {3.618963516610924*^9, 3.618963523761609*^9}, {
   3.6189635539365883`*^9, 3.618963554065544*^9}, 3.6189640321713037`*^9}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"block", "=", 
   RowBox[{"getBlockLines", "[", "\"\<__spell_data\>\"", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"header", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"StringTrim", "[", 
      RowBox[{"#", ",", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{
         "WhitespaceCharacter", "|", "\"\<{\>\"", "|", "\"\<}\>\"", "|", 
          "\"\</\>\""}], ")"}], "..."}]}], "]"}], "&"}], "/@", 
    RowBox[{"StringSplit", "[", 
     RowBox[{
      RowBox[{"First", "[", "block", "]"}], ",", "\"\<,\>\""}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"block", "=", 
   RowBox[{"block", "//", "stripLineStartComments"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.6189639110347567`*^9, 3.6189639242348843`*^9}, {
  3.6189640219158497`*^9, 3.6189640560333643`*^9}, {3.618964158472474*^9, 
  3.618964177120254*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"header", "//", "Length"}]], "Input",
 CellChangeTimes->{{3.61896416526674*^9, 3.618964182910428*^9}}],

Cell[BoxData["57"], "Output",
 CellChangeTimes->{{3.618964165892826*^9, 3.618964183167665*^9}}]
}, Open  ]]
}, Open  ]]
},
WindowSize->{955, 731},
WindowMargins->{{Automatic, 145}, {Automatic, 13}},
FrontEndVersion->"10.0 for Mac OS X x86 (32-bit, 64-bit Kernel) (June 27, \
2014)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[422, 15, 94, 1, 64, "Section"],
Cell[519, 18, 898, 25, 63, "Input"],
Cell[1420, 45, 1016, 31, 97, "Input"],
Cell[2439, 78, 961, 28, 63, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[3437, 111, 89, 1, 64, "Section"],
Cell[3529, 114, 1529, 43, 97, "Input"],
Cell[5061, 159, 899, 25, 64, "Input"],
Cell[CellGroupData[{
Cell[5985, 188, 125, 2, 28, "Input"],
Cell[6113, 192, 95, 1, 28, "Output"]
}, Open  ]]
}, Open  ]]
}
]
*)

